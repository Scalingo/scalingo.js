<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/Addons/index.js | Scalingo</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Wrapper for the Scalingo API"><meta property="og:type" content="website"><meta property="og:url" content="https://www.scalingo.com/"><meta property="og:site_name" content="Scalingo"><meta property="og:title" content="Scalingo"><meta property="og:image" content="https://cdn.scalingo.com/logo.svg"><meta property="og:description" content="Wrapper for the Scalingo API"><meta property="og:author" content="Jonathan Hurter &lt;john@scalingo.com&gt;"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Scalingo"><meta property="twitter:description" content="Wrapper for the Scalingo API"><meta property="twitter:image" content="https://cdn.scalingo.com/logo.svg"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.png" style="width:34px;"></a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/errors.js~APIError.html">APIError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/index.js~Client.html">Client</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clientFromToken">clientFromToken</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PaginationMeta">PaginationMeta</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PaginationOpts">PaginationOpts</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#addons">Addons</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Addons/index.js~Addons.html">Addons</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Addon">Addon</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AddonProvider">AddonProvider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AddonSso">AddonSso</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AddonUpgrade">AddonUpgrade</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Category">Category</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Plan">Plan</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#apps">Apps</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Apps/index.js~Apps.html">Apps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-App">App</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AppCreateOpts">AppCreateOpts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AppLinks">AppLinks</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AppUpdateOpts">AppUpdateOpts</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#collaborators">Collaborators</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Collaborators/index.js~Collaborators.html">Collaborators</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ACCEPTED">ACCEPTED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PENDING">PENDING</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-USER_ACCOUNT_DELETED">USER_ACCOUNT_DELETED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Collaborator">Collaborator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CollaboratorInvitation">CollaboratorInvitation</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#containers">Containers</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Containers/index.js~Containers.html">Containers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Container">Container</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ContainerSize">ContainerSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ContainersOperation">ContainersOperation</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#deployments">Deployments</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Deployments/index.js~Deployments.html">Deployments</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Deployments/listener.js~Listener.html">Listener</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Deployment">Deployment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DeploymentLinks">DeploymentLinks</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DeploymentPusher">DeploymentPusher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DeploymentStatus">DeploymentStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DeploymentsMeta">DeploymentsMeta</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DeploymentsResult">DeploymentsResult</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EventDeploymentStatusUpdated">EventDeploymentStatusUpdated</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EventNewDeployment">EventNewDeployment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EventNewDeploymentLog">EventNewDeploymentLog</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#domains">Domains</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Domains/index.js~Domains.html">Domains</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Domain">Domain</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DomainParams">DomainParams</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DomainUpdateParams">DomainUpdateParams</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LetsEncryptStatus">LetsEncryptStatus</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#environment">Environment</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Environment/index.js~Environment.html">Environment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Variable">Variable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-VariableParams">VariableParams</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#events">Events</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Events/index.js~Events.html">Events</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AppEvents">AppEvents</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Event">Event</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EventCategory">EventCategory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EventType">EventType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EventUser">EventUser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EventsPaginationOpts">EventsPaginationOpts</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#keys">Keys</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Keys/index.js~Keys.html">Keys</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Key">Key</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#logs">Logs</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Logs/index.js~Logs.html">Logs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Logs/listener.js~LogsListener.html">LogsListener</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AppLogsOpts">AppLogsOpts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Archive">Archive</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#metrics">Metrics</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Metrics/index.js~Metrics.html">Metrics</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MetricType">MetricType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Point">Point</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#notificationplatforms">NotificationPlatforms</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/NotificationPlatforms/index.js~NotificationPlatforms.html">NotificationPlatforms</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EMAIL">EMAIL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ROCKET_CHAT">ROCKET_CHAT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SLACK">SLACK</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-WEBHOOK">WEBHOOK</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-NotificationPlatform">NotificationPlatform</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#notifiers">Notifiers</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Notifiers/index.js~Notifiers.html">Notifiers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Notifier">Notifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-NotifierCreateParams">NotifierCreateParams</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-NotifierUpdateParams">NotifierUpdateParams</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#operations">Operations</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Operations/index.js~Operations.html">Operations</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Operations/utils.js~Operation.html">Operation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Operation">Operation</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scmintegrations">SCMIntegrations</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/SCMIntegrations/index.js~SCMIntegrations.html">SCMIntegrations</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Organization">Organization</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PullRequest">PullRequest</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Repository">Repository</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SCMIntegration">SCMIntegration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SCMIntegrationCreateOpts">SCMIntegrationCreateOpts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SCMType">SCMType</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scmrepolinks">SCMRepoLinks</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/SCMRepoLinks/index.js~SCMRepoLinks.html">SCMRepoLinks</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Branch">Branch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PullRequest">PullRequest</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SCMRepoLink">SCMRepoLink</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SCMRepoLinkCreateOpts">SCMRepoLinkCreateOpts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SCMRepoLinkUpdateOpts">SCMRepoLinkUpdateOpts</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#stats">Stats</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Stats/index.js~Stats.html">Stats</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ReferralsStats">ReferralsStats</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tokens">Tokens</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Tokens/index.js~Tokens.html">Tokens</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Token">Token</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#twofactorauth">TwoFactorAuth</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/TwoFactorAuth/index.js~TwoFactorAuth.html">TwoFactorAuth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DEFAULT_PROVIDER">DEFAULT_PROVIDER</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SUPPORTED_PROVIDERS">SUPPORTED_PROVIDERS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TOTP_PROVIDER">TOTP_PROVIDER</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TwoFactorAuthInitiateResponse">TwoFactorAuthInitiateResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TwoFactorAuthObject">TwoFactorAuthObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TwoFactorAuthValidateResponse">TwoFactorAuthValidateResponse</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#users">Users</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Users/index.js~Users.html">Users</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AccountUpdateParams">AccountUpdateParams</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GithubProfile">GithubProfile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-User">User</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Addons/index.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import { unpackData } from &apos;../utils.js&apos;

/**
 * Addons API Client
 */
export default class Addons {
  /**
   * Create a new Client for the Addons API
   * @param {Client} client - Scalingo API Client
   */
  constructor(client) {
    this._client = client
  }

  /**
   * Get list of addons of an application
   * @see https://developers.scalingo.com/addons#list-application-addons
   * @param {String} appId ID of the app to get the addons from
   * @return {Promise&lt;Addon[] | APIError&gt;}
   */
  for(appId) {
    return unpackData(
      this._client.apiClient().get(`/apps/${appId}/addons`),
      &apos;addons&apos;,
    )
  }

  /**
   * Add an addon to an application
   * @see https://developers.scalingo.com/addons#provision-an-addon
   * @param {String} appId ID of the app
   * @param {String} planId ID of the plan
   * @param {String} addonProviderId ID of the addon provider
   * @return {Promise&lt;Addon | APIError&gt;}
   */
  create(appId, planId, addonProviderId) {
    return unpackData(
      this._client.apiClient().post(`/apps/${appId}/addons`, {
        addon: { plan_id: planId, addon_provider_id: addonProviderId },
      }),
      &apos;addon&apos;,
    )
  }

  /**
   * List addon categories
   * @see https://developers.scalingo.com/addon_providers#list-addon-categories
   * @return {Promise&lt;Category[] | APIError&gt;}
   */
  listCategories() {
    return unpackData(
      this._client.unauthenticatedClient().get(&apos;/addon_categories&apos;),
      &apos;addon_categories&apos;,
    )
  }

  /**
   * List addon providers
   * @see https://developers.scalingo.com/addon_providers#list-addon-providers
   * @param {?String} categoryId ID of the addon category
   * @return {Promise&lt;AddonProvider[] | APIError&gt;}
   */
  listProviders(categoryId) {
    if (categoryId) {
      return unpackData(
        this._client
          .unauthenticatedClient()
          .get(`/addon_providers?category_id=${categoryId}`),
        &apos;addon_providers&apos;,
      )
    } else {
      return unpackData(
        this._client.unauthenticatedClient().get(`/addon_providers`),
        &apos;addon_providers&apos;,
      )
    }
  }

  /**
   * Upgrade an addon
   * @see https://developers.scalingo.com/addons#upgrade-an-addon
   * @param {String} appId ID of the current application
   * @param {Object} addon Contain the ID of the plan of your choice
   * @param {String} addonId ID of the current addon
   * @return {Promise&lt;AddonUpgrade | APIError&gt;}
   */
  update(appId, addonId, addon) {
    return unpackData(
      this._client
        .apiClient()
        .patch(`/apps/${appId}/addons/${addonId}`, { addon: addon }),
      &apos;addon&apos;,
    )
  }

  /**
   * Remove an addon
   * @see https://developers.scalingo.com/addons#remove-an-addon
   * @param {String} appId ID of the current application
   * @param {String} addonId ID of the addon
   * @return {Promise&lt;? | APIError&gt;}
   */
  destroy(appId, addonId) {
    return unpackData(
      this._client.apiClient().delete(`/apps/${appId}/addons/${addonId}`),
    )
  }

  /**
   * Get the sso of an addon
   * @param {String} appId The ID of the current application
   * @param {String} addonId The ID of the addon
   * @return {Promise&lt;AddonSso | APIError&gt;}
   */
  sso(appId, addonId) {
    return unpackData(
      this._client.apiClient().get(`/apps/${appId}/addons/${addonId}/sso`),
      &apos;addon&apos;,
    )
  }

  /**
   * Get a specific addon
   * @param {String} appId The ID of the current application
   * @param {String} addonId The ID of the addon to get
   * @return {Promise&lt;Addon | APIError&gt;}
   */
  getAddon(appId, addonId) {
    return unpackData(
      this._client.apiClient().get(`/apps/${appId}/addons/${addonId}`),
      &apos;addon&apos;,
    )
  }
}

/**
 * @typedef {Object} AddonSso
 * @property {String} id The id of the addon
 * @property {String} appId The id of the current App
 * @property {String} resourceId The id of the resource
 * @property {Plan} plan Embedded reference to Plan resource
 * @property {AddonProvider} addon_provider Embedded reference to AddonProvider resource
 * @property {Date} provisioned_at When the addon has been created
 * @property {Date} deprovisioned_at When the addon has been deleted/upgraded
 * @property {String} status The current status of the addon
 * @property {String} ssoUrl The sso url of the addon
 */

/**
 * @typedef {Object} Addon
 * @property {String} id Unique ID identifying the addon
 * @property {Date} provisioned_at When the addon has been created
 * @property {Date} deprovisioned_at When the addon has been deleted/upgraded
 * @property {String} resource_id Resource reference
 * @property {Plan} plan Embedded reference to Plan resource
 * @property {AddonProvider} addon_provider Embedded reference to AddonProvider resource
 */

/**
 * @typedef {Object} Plan
 * @property {String} id Unique ID of the plan
 * @property {String} name Name of the plan (internal reference)
 * @property {String} display_name User friendly name
 * @property {number&lt;float&gt;} price The price of the plan in euros
 * @property {String} description Description of the plan
 */

/**
 * @typedef {Object} AddonProvider
 * @property {String} id Unique ID of the addon provider
 * @property {String} name Name of the addon provider
 * @property {String} logo_url The url of the logo
 * @property {String} short_description Short description of the addon provider
 * @property {String} description Complete description of the addon provider
 * @property {Category} category Embedded category object
 * @property {String} provider_name Name of the company offering this addon
 * @property {String} provider_url URL of the company offering this addon
 * @property {Plan[]} plans Embedded array of plans for this addon
 */

/**
 * @typedef {Object} Category
 * @property {String} id ID of the category
 * @property {String} description Description of the category
 * @property {String} name Name of the category
 */

/**
 * @typedef {Object} AddonUpgrade
 * @property {String[]} vars Array of variables
 * @property {String} message Custom message from the addon provider
 */
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
